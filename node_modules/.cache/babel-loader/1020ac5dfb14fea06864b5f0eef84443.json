{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { List, message, Avatar, Spin } from 'antd';\nimport reqwest from 'reqwest';\nimport InfiniteScroll from 'react-infinite-scroller';\nvar fakeDataUrl = 'https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo';\n\nvar InfiniteListExample =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InfiniteListExample, _React$Component);\n\n  function InfiniteListExample() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, InfiniteListExample);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(InfiniteListExample)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      data: [],\n      loading: false,\n      hasMore: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getData\", function (callback) {\n      reqwest({\n        url: fakeDataUrl,\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        success: function success(res) {\n          callback(res);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInfiniteOnLoad\", function () {\n      var data = _this.state.data;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (data.length > 14) {\n        message.warning('Infinite List loaded all');\n\n        _this.setState({\n          hasMore: false,\n          loading: false\n        });\n\n        return;\n      }\n\n      _this.getData(function (res) {\n        data = data.concat(res.results);\n\n        _this.setState({\n          data: data,\n          loading: false\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(InfiniteListExample, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getData(function (res) {\n        _this2.setState({\n          data: res.results\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"demo-infinite-container\"\n      }, React.createElement(InfiniteScroll, {\n        initialLoad: false,\n        pageStart: 0,\n        loadMore: this.handleInfiniteOnLoad,\n        hasMore: !this.state.loading && this.state.hasMore,\n        useWindow: false\n      }, React.createElement(List, {\n        dataSource: this.state.data,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            key: item.id\n          }, React.createElement(List.Item.Meta, {\n            avatar: React.createElement(Avatar, {\n              src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\n            }),\n            title: React.createElement(\"a\", {\n              href: \"https://ant.design\"\n            }, item.name.last),\n            description: item.email\n          }), React.createElement(\"div\", null, \"Content\"));\n        }\n      }, this.state.loading && this.state.hasMore && React.createElement(\"div\", {\n        className: \"demo-loading-container\"\n      }, React.createElement(Spin, null)))));\n    }\n  }]);\n\n  return InfiniteListExample;\n}(React.Component);\n\nexport default InfiniteListExample;","map":null,"metadata":{},"sourceType":"module"}