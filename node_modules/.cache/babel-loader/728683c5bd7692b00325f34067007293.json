{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/admin/Documents/GitHub/one1/components/shared/AppProvider.js\";\nimport React from \"react\";\nimport { createContext, useContext, useEffect, useReducer } from 'react';\nimport Router from 'next/router';\nvar Context = createContext();\nvar Provider = Context.Provider;\nvar mql;\nRouter.events.on('routeChangeComplete', function () {\n  return document.querySelector('.workspace > .ant-layout').scrollTop = 0;\n});\n\nvar saveToLocal = function saveToLocal(state) {\n  delete state.mobile;\n  delete state.optionDrawer;\n  delete state.mobileDrawer;\n  localStorage.setItem('settings', _JSON$stringify(state));\n};\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'fullscreen':\n      {\n        var element = document.querySelector('#__next');\n        var isFullscreen = document.webkitIsFullScreen || document.mozFullScreen || false;\n\n        element.requestFullScreen = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || function () {\n          return false;\n        };\n\n        document.cancelFullScreen = document.cancelFullScreen || document.webkitCancelFullScreen || document.mozCancelFullScreen || function () {\n          return false;\n        };\n\n        isFullscreen ? document.cancelFullScreen() : element.requestFullScreen();\n        return _objectSpread({}, state, {\n          fullscreen: !isFullscreen\n        });\n      }\n\n    case 'boxed':\n      {\n        var newState = _objectSpread({}, state, {\n          boxed: !state.boxed\n        });\n\n        saveToLocal(newState);\n        return newState;\n      }\n\n    case 'sidebarTheme':\n      {\n        var _newState = _objectSpread({}, state, {\n          darkSidebar: !state.darkSidebar\n        });\n\n        saveToLocal(_newState);\n        return _newState;\n      }\n\n    case 'sidebarPopup':\n      {\n        var _newState2 = _objectSpread({}, state, {\n          sidebarPopup: !state.sidebarPopup\n        });\n\n        saveToLocal(_newState2);\n        return _newState2;\n      }\n\n    case 'sidebarIcons':\n      {\n        if (state.collapsed) return _objectSpread({}, state);\n\n        var _newState3 = _objectSpread({}, state, {\n          sidebarIcons: !state.sidebarIcons\n        });\n\n        saveToLocal(_newState3);\n        return _newState3;\n      }\n\n    case 'collapse':\n      {\n        var collapse = state.collapsed;\n        var sidebarIcons = state.sidebarIcons;\n        if (!collapse) sidebarIcons = true;\n\n        var _newState4 = _objectSpread({}, state, {\n          collapsed: !state.collapsed,\n          sidebarIcons: sidebarIcons\n        });\n\n        saveToLocal(_newState4);\n        return _newState4;\n      }\n\n    case 'weak':\n      {\n        var weak = state.weakColor;\n        var darkSidebar = state.darkSidebar;\n        if (!weak && darkSidebar) darkSidebar = false;\n\n        var _newState5 = _objectSpread({}, state, {\n          weakColor: !state.weakColor,\n          darkSidebar: darkSidebar\n        });\n\n        saveToLocal(_newState5);\n        return _newState5;\n      }\n\n    case 'mobile':\n      return _objectSpread({}, state, {\n        mobile: !mql.matches\n      });\n\n    case 'options':\n      return _objectSpread({}, state, {\n        optionDrawer: !state.optionDrawer\n      });\n\n    case 'mobileDrawer':\n      return _objectSpread({}, state, {\n        mobileDrawer: !state.mobileDrawer\n      });\n\n    case 'setup':\n      {\n        var settings = JSON.parse(localStorage.getItem('settings'));\n        return _objectSpread({}, state, {\n          mobile: !mql.matches\n        }, settings);\n      }\n\n    default:\n      return state;\n  }\n};\n\nvar AppProvider = function AppProvider(props) {\n  var _useReducer = useReducer(reducer, {\n    name: 'One',\n    mobile: false,\n    boxed: false,\n    darkSidebar: false,\n    sidebarPopup: false,\n    sidebarIcons: false,\n    collapsed: false,\n    weakColor: false,\n    optionDrawer: false,\n    mobileDrawer: false,\n    fullscreen: false\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    mql = window.matchMedia(\"(min-width: 992px)\");\n    mql.addListener(mediaQueryChanged);\n    dispatch({\n      type: 'setup'\n    });\n    return function () {\n      return mql.removeListener(mediaQueryChanged);\n    };\n  }, []);\n\n  var mediaQueryChanged = function mediaQueryChanged() {\n    dispatch({\n      type: 'mobile'\n    });\n  };\n\n  return React.createElement(Provider, {\n    value: [state, dispatch],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default AppProvider;\nexport var useAppState = function useAppState() {\n  return useContext(Context);\n};","map":{"version":3,"sources":["/Users/admin/Documents/GitHub/one1/components/shared/AppProvider.js"],"names":["createContext","useContext","useEffect","useReducer","Router","Context","Provider","mql","events","on","document","querySelector","scrollTop","saveToLocal","state","mobile","optionDrawer","mobileDrawer","localStorage","setItem","reducer","action","type","element","isFullscreen","webkitIsFullScreen","mozFullScreen","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","fullscreen","newState","boxed","darkSidebar","sidebarPopup","collapsed","sidebarIcons","collapse","weak","weakColor","matches","settings","JSON","parse","getItem","AppProvider","props","name","dispatch","window","matchMedia","addListener","mediaQueryChanged","removeListener","children","useAppState"],"mappings":"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","sourcesContent":["import { createContext, useContext, useEffect, useReducer } from 'react';\n\nimport Router from 'next/router';\n\nconst Context = createContext();\nconst { Provider } = Context;\nlet mql;\n\nRouter.events.on(\n  'routeChangeComplete',\n  () => (document.querySelector('.workspace > .ant-layout').scrollTop = 0)\n);\n\nconst saveToLocal = state => {\n  delete state.mobile;\n  delete state.optionDrawer;\n  delete state.mobileDrawer;\n  localStorage.setItem('settings', JSON.stringify(state));\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'fullscreen': {\n      const element = document.querySelector('#__next');\n      const isFullscreen =\n        document.webkitIsFullScreen || document.mozFullScreen || false;\n\n      element.requestFullScreen =\n        element.requestFullScreen ||\n        element.webkitRequestFullScreen ||\n        element.mozRequestFullScreen ||\n        function() {\n          return false;\n        };\n\n      document.cancelFullScreen =\n        document.cancelFullScreen ||\n        document.webkitCancelFullScreen ||\n        document.mozCancelFullScreen ||\n        function() {\n          return false;\n        };\n\n      isFullscreen ? document.cancelFullScreen() : element.requestFullScreen();\n\n      return { ...state, fullscreen: !isFullscreen };\n    }\n    case 'boxed': {\n      const newState = { ...state, boxed: !state.boxed };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'sidebarTheme': {\n      const newState = { ...state, darkSidebar: !state.darkSidebar };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'sidebarPopup': {\n      const newState = { ...state, sidebarPopup: !state.sidebarPopup };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'sidebarIcons': {\n      if (state.collapsed) return { ...state };\n      const newState = { ...state, sidebarIcons: !state.sidebarIcons };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'collapse': {\n      const collapse = state.collapsed;\n      let sidebarIcons = state.sidebarIcons;\n      if (!collapse) sidebarIcons = true;\n      const newState = { ...state, collapsed: !state.collapsed, sidebarIcons };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'weak': {\n      const weak = state.weakColor;\n      let darkSidebar = state.darkSidebar;\n      if (!weak && darkSidebar) darkSidebar = false;\n      const newState = { ...state, weakColor: !state.weakColor, darkSidebar };\n      saveToLocal(newState);\n      return newState;\n    }\n    case 'mobile':\n      return { ...state, mobile: !mql.matches };\n    case 'options':\n      return { ...state, optionDrawer: !state.optionDrawer };\n    case 'mobileDrawer':\n      return { ...state, mobileDrawer: !state.mobileDrawer };\n    case 'setup': {\n      const settings = JSON.parse(localStorage.getItem('settings'));\n      return { ...state, mobile: !mql.matches, ...settings };\n    }\n    default:\n      return state;\n  }\n};\n\nconst AppProvider = props => {\n  const [state, dispatch] = useReducer(reducer, {\n    name: 'One',\n    mobile: false,\n    boxed: false,\n    darkSidebar: false,\n    sidebarPopup: false,\n    sidebarIcons: false,\n    collapsed: false,\n    weakColor: false,\n    optionDrawer: false,\n    mobileDrawer: false,\n    fullscreen: false\n  });\n\n  useEffect(() => {\n    mql = window.matchMedia(`(min-width: 992px)`);\n    mql.addListener(mediaQueryChanged);\n    dispatch({ type: 'setup' });\n    return () => mql.removeListener(mediaQueryChanged);\n  }, []);\n\n  const mediaQueryChanged = () => {\n    dispatch({ type: 'mobile' });\n  };\n\n  return <Provider value={[state, dispatch]}>{props.children}</Provider>;\n};\n\nexport default AppProvider;\nexport const useAppState = () => useContext(Context);\n"]},"metadata":{},"sourceType":"module"}