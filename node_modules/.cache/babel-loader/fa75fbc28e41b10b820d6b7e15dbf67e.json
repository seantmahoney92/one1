{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { List, Avatar, Button, Skeleton } from 'antd';\nimport reqwest from 'reqwest';\nvar count = 3;\nvar fakeDataUrl = \"https://randomuser.me/api/?results=\".concat(count, \"&inc=name,gender,email,nat&noinfo\");\n\nvar LoadMoreList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoadMoreList, _React$Component);\n\n  function LoadMoreList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoadMoreList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoadMoreList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      initLoading: true,\n      loading: false,\n      data: [],\n      list: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getData\", function (callback) {\n      reqwest({\n        url: fakeDataUrl,\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        success: function success(res) {\n          callback(res);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadMore\", function () {\n      _this.setState({\n        loading: true,\n        list: _this.state.data.concat(_toConsumableArray(new Array(count)).map(function () {\n          return {\n            loading: true,\n            name: {}\n          };\n        }))\n      });\n\n      _this.getData(function (res) {\n        var data = _this.state.data.concat(res.results);\n\n        _this.setState({\n          data: data,\n          list: data,\n          loading: false\n        }, function () {\n          // Resetting window's offsetTop so as to display react-virtualized demo underfloor.\n          // In real scene, you can using public method of react-virtualized:\n          // https://stackoverflow.com/questions/46700726/how-to-use-public-method-updateposition-of-react-virtualized\n          window.dispatchEvent(new Event('resize'));\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LoadMoreList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getData(function (res) {\n        _this2.setState({\n          initLoading: false,\n          data: res.results,\n          list: res.results\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          initLoading = _this$state.initLoading,\n          loading = _this$state.loading,\n          list = _this$state.list;\n      var loadMore = !initLoading && !loading ? React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: 12,\n          height: 32,\n          lineHeight: '32px'\n        }\n      }, React.createElement(Button, {\n        onClick: this.onLoadMore\n      }, \"loading more\")) : null;\n      return React.createElement(List, {\n        className: \"demo-loadmore-list\",\n        loading: initLoading,\n        itemLayout: \"horizontal\",\n        loadMore: loadMore,\n        dataSource: list,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            actions: [React.createElement(\"a\", null, \"edit\"), React.createElement(\"a\", null, \"more\")]\n          }, React.createElement(Skeleton, {\n            avatar: true,\n            title: false,\n            loading: item.loading,\n            active: true\n          }, React.createElement(List.Item.Meta, {\n            avatar: React.createElement(Avatar, {\n              src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\n            }),\n            title: React.createElement(\"a\", {\n              href: \"https://ant.design\"\n            }, item.name.last),\n            description: \"Ant Design, a design language for background applications, is refined by Ant UED Team\"\n          }), React.createElement(\"div\", null, \"content\")));\n        }\n      });\n    }\n  }]);\n\n  return LoadMoreList;\n}(React.Component);\n\nexport default LoadMoreList;","map":null,"metadata":{},"sourceType":"module"}